<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Новости</title>
    <link rel="stylesheet" href="../style.css" />
    <link rel="stylesheet" href="../styles/style_news.css" />
    <link rel="icon" href="../favicon.ico" type="image/x-icon" />
    <style>
      body {
        min-height: 100vh;
        padding-top: 60px;
      }

      .footer {
        background-color: #333;
        color: white;
        text-align: center;
        padding: 20px 0;
        margin-top: auto;
      }

      #addNewsButton {
        background-color: #4caf50;
        color: white;
        padding: 10px 20px;
        border: none;
        cursor: pointer;
        margin-bottom: 20px;
      }

      #addNewsButton:hover {
        background-color: #45a049;
      }

      .news-form {
        background-color: #f9f9f9;
        padding: 20px;
        border: 1px solid #ddd;
        margin-bottom: 20px;
      }

      #submitBtn,
      #cancelBtn {
        background-color: #4caf50;
        color: white;
        padding: 10px 20px;
        border: none;
        cursor: pointer;
        margin-right: 10px;
      }

      #cancelBtn {
        background-color: #f44336;
      }

      #submitBtn:hover,
      #cancelBtn:hover {
        opacity: 0.8;
      }

      /* Стиль для невалидных полей */
      input:invalid,
      textarea:invalid {
        border-color: #ff4444;
      }
    </style>
  </head>
  <body>
    <header class="header">
      <div class="container">
        <nav class="nav">
          <a href="../index.html" class="logo">Foodie</a>
          <input id="menu__toggle" type="checkbox" />
          <label class="menu__btn" for="menu__toggle">
            <span></span>
          </label>
          <ul class="menu__box">
            <li><a class="menu__item" href="../index.html">Главная</a></li>
            <li><a class="menu__item" href="../pages/menu.html">Меню</a></li>
            <li><a class="menu__item" href="../pages/shoppingBasket.html">Корзина</a></li>
            <li><a class="menu__item" href="../pages/order.html">Оформление</a></li>
            <li><a class="menu__item" href="../pages/contacts.html">Контакты</a></li>
            <li><a class="menu__item" href="../pages/news.html">Новости</a></li>
          </ul>
        </nav>
      </div>
    </header>

    <div class="news-page">
      <div class="search-sort">
        <input type="text" id="searchInput" placeholder="Поиск по новостям..." />
        <select id="sortSelect">
          <option value="newest">Сначала новые</option>
          <option value="oldest">Сначала старые</option>
          <option value="title">По заголовку</option>
        </select>
        <button id="addNewsButton">Добавить новость</button>
      </div>

      <div class="news-page">
        <div class="news-form" id="newsFormContainer" style="display: none">
          <form id="newsForm">
            <div class="form-group">
              <label for="title">Заголовок:</label>

              <input
                type="text"
                id="title"
                required
                maxlength="100"
                oninput="validateField(this)"
              />
              <span id="titleCounter"></span>

            </div>

            <div class="form-group">
              <label for="content">Содержание:</label>

              <textarea
                id="content"
                required
                maxlength="500"
                oninput="validateField(this)"
              ></textarea>
              <span id="contentCounter"></span>

            </div>

            <div class="form-group">
              <label for="category">Категория:</label>

              <input
                type="text"
                id="category"
                required
                maxlength="50"
                oninput="validateField(this)"
              />
              <span id="categoryCounter"></span>

            </div>

            <button type="submit" id="submitBtn">Добавить новость</button>
            <button type="button" id="cancelBtn">Отмена</button>
          </form>
        </div>

        <div id="newsContainer"></div>
      </div>
    </div>

    <section id="about" class="about">
      <div class="container">
        <h2>О нас</h2>
        <p>
          В Foodie мы заботимся о доставке самых свежих и вкусных блюд к вашей двери. Благодаря
          широкому выбору вариантов мы заботимся о том, чтобы каждый нашел что-то для себя.
        </p>
      </div>
    </section>

    <footer class="footer">
      <div class="container">
        <p>&copy; 2025 Foodie. All Rights Reserved.</p>
      </div>
    </footer>

    <script>
      // Функция валидации поля (запрет только пробелов)
      function validateField(input) {
        if (/^\s*$/.test(input.value)) {
          input.setCustomValidity("Поле не может содержать только пробелы");
        } else {
          input.setCustomValidity("");
        }

        // Обновляем счетчики символов
        updateCounter(input);
      }

      // Инициализация счетчиков при загрузке
      document.addEventListener("DOMContentLoaded", function () {
        const inputs = ["title", "content", "category"];
        inputs.forEach((id) => {
          const input = document.getElementById(id);
          if (input) {
            updateCounter(input);
          }
        });
      });
    </script>

    <script src="../scripts/scripts_new.js"></script>
  </body>
</html>
